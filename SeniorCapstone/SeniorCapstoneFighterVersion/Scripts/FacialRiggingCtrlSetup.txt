string $sel_curves[] = `ls -sl`;  //gets curves selected by user.  Assume naming convention of curve_itemIdentifier.
int $numOfLocators = 3;  //declare variable for how many locators per curve we'll be using
int $i = 0; //declare variable for for loops.
string $locatorRename; //variable to store the rename of the locator.
string $curveStrip = "curve_"; //itentify part of curve name to strip to get locationName
string $locationName; //create locationName variable to identify where on the face this curve is.
string $mpRename; //string to hold motion path renaming.
float $locPos; //float to accomodate locator position.
string $jointOffsetName;
string $jointControlName;
string $sphereName;

for ($each in $sel_curves){
    	print $each; //print each string to verify it's working.
	for ($i = 0; $i < $numOfLocators; $i++){
		
		$locationName = stripPrefixFromName($curveStrip , $each); //strip curve part off of curve name
		
		$locatorRename = ("locator_" + $locationName + $i); //set rename for the locators
		spaceLocator -name $locatorRename -p 0 0 0; //create 3 locators at 0,0,0 to begin rigging process.
		
		select -r $locatorRename;
		select -add $each;//select locator then curve.
		
		$mpRename = "motionPath_" + $locationName + $i;  //setmotionPathRename
		pathAnimation -name $mpRename -fractionMode true -follow true -followAxis x -upAxis y -worldUpType "vector" -worldUpVector 0 1 0 -inverseUp false -inverseFront false -bank false -startTimeU `playbackOptions -query -minTime` -endTimeU  `playbackOptions -query -maxTime`;
		select -addFirst $mpRename;
		disconnectAttr ($mpRename + "_uValue*.output") ($mpRename + ".uValue");
		$locPos = float($i) / 2;
		setAttr ($mpRename + ".uValue") $locPos; //break connections for locator then set it in it's proper place on the path.
		CBdeleteConnection ($locatorRename + ".rx");
		CBdeleteConnection ($locatorRename + ".ry");
		CBdeleteConnection ($locatorRename + ".rz");
		setAttr ($locatorRename + ".rotateX") 0;
		setAttr ($locatorRename + ".rotateY") 0;
		setAttr ($locatorRename + ".rotateZ") 0; //break rotational connections and set them to 0.
		
		//create 2 joints, second for control.
		$jointOffsetName = ("joint_Offset_" + $locationName + $i);
		$jointControlName = ("joint_Control_" + $locationName + $i);
		joint -p 0 0 0 -name $jointOffsetName;
		joint -p 0 0 0 -name $jointControlName;
		//parent $jointOffsetName $locatorRename;
		setAttr ($jointOffsetName + ".translateZ") 0;
        setAttr ($jointOffsetName + ".translateX") 0;
        setAttr ($jointOffsetName + ".translateY") 0;
        //parent $jointControlName $jointOffsetName;
        setAttr ($jointControlName + ".translateZ") 0;
        setAttr ($jointControlName + ".translateX") 0;
        setAttr ($jointControlName + ".translateY") 0;
        //create nurbs sphere to turn into joint control.
        $sphereName = ("nurbsSphere_" + $locationName + $i);
        sphere -name $sphereName -p 0 0 0 -ax 0 1 0 -ssw 0 -esw 360 -r 1 -d 3 -ut 0 -tol 0.01 -s 8 -nsp 4 -ch 1;objectMoveCommand;
        
		select -r ($sphereName + "Shape");
		select -tgl $jointControlName;
		parent -r -shape;
		
	}
}